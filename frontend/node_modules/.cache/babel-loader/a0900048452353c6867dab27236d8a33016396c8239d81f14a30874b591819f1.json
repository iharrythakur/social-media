{"ast":null,"code":"var _jsxFileName = \"/Users/harshdeepsingh/Desktop/The Future University- SDE Assignment __ Thapar University/frontend/src/components/PostCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { postsAPI } from '../services/api';\nimport { FiHeart, FiClock } from 'react-icons/fi';\nimport LoadingSpinner from './LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostCard = ({\n  post,\n  onLike,\n  currentUserId\n}) => {\n  _s();\n  const [liking, setLiking] = useState(false);\n  const handleLike = async () => {\n    if (liking) return;\n    setLiking(true);\n    try {\n      const response = await postsAPI.likePost(post.id);\n      const updatedPost = response.data.post;\n      onLike(post.id, updatedPost.likes_count);\n    } catch (error) {\n      console.error('Failed to like post:', error);\n    } finally {\n      setLiking(false);\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInSeconds = Math.floor((now - date) / 1000);\n    if (diffInSeconds < 60) {\n      return 'Just now';\n    } else if (diffInSeconds < 3600) {\n      const minutes = Math.floor(diffInSeconds / 60);\n      return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;\n    } else if (diffInSeconds < 86400) {\n      const hours = Math.floor(diffInSeconds / 3600);\n      return `${hours} hour${hours > 1 ? 's' : ''} ago`;\n    } else {\n      const days = Math.floor(diffInSeconds / 86400);\n      return `${days} day${days > 1 ? 's' : ''} ago`;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/user/${post.user_id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post.user_profile_picture || 'https://via.placeholder.com/40x40?text=U',\n          alt: post.user_name,\n          className: \"avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/user/${post.user_id}`,\n            className: \"font-medium text-secondary-900 hover:text-primary-600 transition-colors duration-200\",\n            children: post.user_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-secondary-400\",\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-secondary-500\",\n            children: [/*#__PURE__*/_jsxDEV(FiClock, {\n              className: \"w-3 h-3 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), formatDate(post.created_at)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-secondary-800 mb-4 whitespace-pre-wrap\",\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), post.image_url && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: post.image_url,\n            alt: \"Post\",\n            className: \"w-full max-h-96 object-cover rounded-lg\",\n            onError: e => {\n              e.target.style.display = 'none';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLike,\n            disabled: liking,\n            className: \"like-button group\",\n            children: [liking ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(FiHeart, {\n              className: \"w-5 h-5 group-hover:scale-110 transition-transform duration-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: post.likes_count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-secondary-500\",\n            children: post.likes_count === 1 ? '1 like' : `${post.likes_count} likes`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(PostCard, \"iZK5IgPVdLULeUYAEy5iz74XytI=\");\n_c = PostCard;\nexport default PostCard;\nvar _c;\n$RefreshReg$(_c, \"PostCard\");","map":{"version":3,"names":["React","useState","Link","postsAPI","FiHeart","FiClock","LoadingSpinner","jsxDEV","_jsxDEV","PostCard","post","onLike","currentUserId","_s","liking","setLiking","handleLike","response","likePost","id","updatedPost","data","likes_count","error","console","formatDate","dateString","date","Date","now","diffInSeconds","Math","floor","minutes","hours","days","className","children","to","user_id","src","user_profile_picture","alt","user_name","fileName","_jsxFileName","lineNumber","columnNumber","created_at","content","image_url","onError","e","target","style","display","onClick","disabled","size","_c","$RefreshReg$"],"sources":["/Users/harshdeepsingh/Desktop/The Future University- SDE Assignment __ Thapar University/frontend/src/components/PostCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { postsAPI } from '../services/api';\nimport { FiHeart, FiClock } from 'react-icons/fi';\nimport LoadingSpinner from './LoadingSpinner';\n\nconst PostCard = ({ post, onLike, currentUserId }) => {\n  const [liking, setLiking] = useState(false);\n\n  const handleLike = async () => {\n    if (liking) return;\n    \n    setLiking(true);\n    try {\n      const response = await postsAPI.likePost(post.id);\n      const updatedPost = response.data.post;\n      onLike(post.id, updatedPost.likes_count);\n    } catch (error) {\n      console.error('Failed to like post:', error);\n    } finally {\n      setLiking(false);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInSeconds = Math.floor((now - date) / 1000);\n    \n    if (diffInSeconds < 60) {\n      return 'Just now';\n    } else if (diffInSeconds < 3600) {\n      const minutes = Math.floor(diffInSeconds / 60);\n      return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;\n    } else if (diffInSeconds < 86400) {\n      const hours = Math.floor(diffInSeconds / 3600);\n      return `${hours} hour${hours > 1 ? 's' : ''} ago`;\n    } else {\n      const days = Math.floor(diffInSeconds / 86400);\n      return `${days} day${days > 1 ? 's' : ''} ago`;\n    }\n  };\n\n  return (\n    <div className=\"post-card\">\n      <div className=\"flex items-start space-x-3\">\n        <Link to={`/user/${post.user_id}`}>\n          <img\n            src={post.user_profile_picture || 'https://via.placeholder.com/40x40?text=U'}\n            alt={post.user_name}\n            className=\"avatar\"\n          />\n        </Link>\n        \n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <Link \n              to={`/user/${post.user_id}`}\n              className=\"font-medium text-secondary-900 hover:text-primary-600 transition-colors duration-200\"\n            >\n              {post.user_name}\n            </Link>\n            <span className=\"text-secondary-400\">â€¢</span>\n            <div className=\"flex items-center text-sm text-secondary-500\">\n              <FiClock className=\"w-3 h-3 mr-1\" />\n              {formatDate(post.created_at)}\n            </div>\n          </div>\n          \n          <div className=\"text-secondary-800 mb-4 whitespace-pre-wrap\">\n            {post.content}\n          </div>\n          \n          {post.image_url && (\n            <div className=\"mb-4\">\n              <img\n                src={post.image_url}\n                alt=\"Post\"\n                className=\"w-full max-h-96 object-cover rounded-lg\"\n                onError={(e) => {\n                  e.target.style.display = 'none';\n                }}\n              />\n            </div>\n          )}\n          \n          <div className=\"flex items-center justify-between\">\n            <button\n              onClick={handleLike}\n              disabled={liking}\n              className=\"like-button group\"\n            >\n              {liking ? (\n                <LoadingSpinner size=\"sm\" />\n              ) : (\n                <FiHeart className=\"w-5 h-5 group-hover:scale-110 transition-transform duration-200\" />\n              )}\n              <span className=\"font-medium\">{post.likes_count}</span>\n            </button>\n            \n            <div className=\"text-sm text-secondary-500\">\n              {post.likes_count === 1 ? '1 like' : `${post.likes_count} likes`}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}